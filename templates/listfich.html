<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Serveur de fichiers dans docker." />
    <title>Serveur de fichier</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css"
      integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/monstyle.css" />
  </head>
  <body>
    <div>
      <include href="templates/menu.html" />
      <div class="pure-g decal50">
        <h2>Liste des fichiers</h2>
      </div>
      <div class="decal100">
        <table class="pure-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Nom</th>
              <th>Télécharger</th>
            </tr>
          </thead>
          <tbody>
            <repeat group="{{ @files }}" key="{{ @ikey }}" value="{{ @file }}">
              <tr>
                <td>{{@ikey}}</td>
                <td>
                  <a href="{{@BASE}}/files/{{@file}}" download
                    >{{trim(@file)}}</a
                  >
                </td>
                <td>
                  <form action="{{@BASE}}/supprime" method="post">
                    <input
                      type="submit"
                      value="Supprimer"
                      class="pure-button"
                    />
                    <input
                      type="hidden"
                      id="Name"
                      name="Name"
                      value="{{@file}}"
                    />
                    <input type="hidden" id="Id" name="Id" value="{{@ikey}}" />
                  </form>
                </td>
              </tr>
            </repeat>
          </tbody>
        </table>
        <div class="{{@message['style']}}">{{@message['texte']}}</div>
      </div>
    </div>
  </body>
</html>
